# Настройка и тестирование отправки почты

## Настройка Mailtrap.io

Для тестирования функциональности отправки почты в проекте используется сервис [Mailtrap.io](https://mailtrap.io), который позволяет перехватывать исходящие письма без их реальной отправки.

### Шаги настройки:

1. Зарегистрируйтесь на сайте Mailtrap.io
2. После регистрации перейдите в раздел Email Testing → Inboxes
3. Выберите или создайте тестовый инбокс
4. В разделе SMTP Settings найдите ваши учетные данные SMTP
5. Обновите файл `.env` в корне проекта, заменив следующие строки:

```
MAIL_MAILER=smtp
MAIL_SCHEME=tls
MAIL_HOST=sandbox.smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=ваш_username_из_mailtrap
MAIL_PASSWORD=ваш_password_из_mailtrap
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"
```

## Проверка отправки почты

### Метод 1: Отправка тестового письма

В проекте есть специальная Artisan-команда для отправки тестового письма:

```bash
php artisan mail:test test@example.com
```

или с использованием Makefile:

```bash
make mail-test
```

При использовании `make mail-test` вас попросят ввести email-адрес для тестирования.

### Метод 2: Тестирование сброса пароля

1. Перейдите на страницу авторизации: http://localhost:8000/login
2. Нажмите на ссылку "Забыли пароль?"
3. Введите email зарегистрированного пользователя и нажмите "Email Password Reset Link"
4. Проверьте письмо в вашем инбоксе на Mailtrap.io

## Другие сценарии использования почты

В проекте почта также используется для:

1. Подтверждения email-адреса при регистрации
2. Отправки ссылок для сброса пароля

Все эти письма будут перехвачены и отображены в вашем инбоксе на Mailtrap.io.

## Отладка проблем с отправкой почты

Если письма не появляются в Mailtrap.io, проверьте:

1. Правильность учетных данных SMTP в файле `.env`
2. Логи Laravel в `storage/logs/laravel.log`
3. Запустите `php artisan config:clear` для очистки кэша конфигурации
4. Перезапустите веб-сервер с `php artisan serve` 